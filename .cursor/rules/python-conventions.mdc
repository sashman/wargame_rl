---
description: Python coding conventions for wargame_rl
globs: "**/*.py"
alwaysApply: false
---

# Python Conventions

## Type Hints

- All functions must have type annotations (enforced by mypy `disallow_untyped_defs`)
- Use `from __future__ import annotations` for forward references
- Use modern union syntax: `str | None` not `Optional[str]`
- Use built-in generics: `list[int]`, `dict[str, Any]`, `tuple[int, ...]`

## Imports

- isort with Black profile (stdlib → third-party → local)
- autoflake removes unused imports automatically
- Local imports: `from wargame_rl.wargame...` (absolute, not relative)

## Naming

- Classes: `PascalCase` (`WargameEnv`, `DQN_MLP`, `ActionHandler`)
- Functions / variables: `snake_case`
- Constants: `UPPER_SNAKE_CASE` (`STAY_ACTION`)
- Private methods: leading underscore (`_get_obs`)

## Style

- Ruff formatter: 88 char line length, 4-space indent, double quotes
- Prefer Pydantic models for structured data and config
- Use `loguru` for logging, not `print` or stdlib `logging`
- Use `numpy` typed arrays where performance matters
